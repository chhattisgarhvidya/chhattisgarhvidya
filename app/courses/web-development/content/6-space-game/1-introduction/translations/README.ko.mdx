---
title: Space ê²Œì„ ì œì‘í•˜ê¸° íŒŒíŠ¸ 1: ì†Œê°œ
description: No description available
lastUpdated: 2024-12-21T06:11:55.013Z
---

# Space ê²Œì„ ì œì‘í•˜ê¸° íŒŒíŠ¸ 1: ì†Œê°œ

![video](../../images/pewpew.gif)

## ê°•ì˜ ì „ í€´ì¦ˆ

[Pre-lecture quiz](https://ashy-river-0debb7803.1.azurestaticapps.net/quiz/29?loc=ko)

### ê²Œì„ ê°œë°œì˜ ìƒì†ê³¼ êµ¬ì„±

ì´ì „ ê°•ì˜ì—ì„œëŠ”, í”„ë¡œì íŠ¸ì˜ ë²”ìœ„ê°€ ë§¤ìš° ì‘ì•˜ìœ¼ë¯€ë¡œ, ë§Œë“  ì•±ì˜ ë””ìì¸ ì•„í‚¤í…ì²˜ì— ëŒ€í•´ ê±±ì •í•  í•„ìš”ê°€ ì—†ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜, ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í¬ê¸°ì™€ ë²”ìœ„ê°€ ì»¤ì§€ë©´, ì•„í‚¤í…ì²˜ ê²°ì •ì´ ë” í˜ë“­ë‹ˆë‹¤. JavaScriptì—ì„œ ë” í° ì‘ìš© í”„ë¡œê·¸ë¨ì„ ë§Œë“œëŠ” ë°ëŠ” ë‘ ê°€ì§€ ì£¼ìš” ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤: *composition* ë˜ëŠ” *inheritance*. ë‘˜ ë‹¤ ì¥ì ê³¼ ë‹¨ì ì´ ì¡´ì¬í•˜ì§€ë§Œ ê²Œì„ì˜ ë§¥ë½ì—ì„œ ì„¤ëª…í•  ê²ƒ ì…ë‹ˆë‹¤.

âœ… ê°€ì¥ ìœ ëª…í•œ í”„ë¡œê·¸ë˜ë° ì±… ì¤‘ì—ëŠ” [design patterns](https://en.wikipedia.org/wiki/Design_Patterns)ê³¼ ê´€ë ¨ì´ ìˆìŠµë‹ˆë‹¤.

ê²Œì„ì—ì„œëŠ” í™”ë©´ì— ì¡´ì¬í•˜ëŠ” ê°ì²´ì¸ `game objects`ê°€ ìˆìŠµë‹ˆë‹¤. `x`ì™€ `y` ì¢Œí‘œë¥¼ ê°–ëŠ” ê²ƒì´ íŠ¹ì§•ì¸, ë°ì¹´ë¥´íŠ¸ ì¢Œí‘œê³„ì— ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê²Œì„ì„ ê°œë°œí•  ë•Œ ë§Œë“œëŠ”, ëª¨ë“  ê²Œì„ ê°ì²´ë¥¼ ê°€ì§€ê³  ìˆëŠ” ê²Œì„ì—ëŠ” ê³µí†µì ì¸ í‘œì¤€ ì†ì„±ì´ ìˆìŠµë‹ˆë‹¤:

- **location-based** ì „ë¶€ëŠ” ì•„ë‹ˆì§€ë§Œ, ëŒ€ë¶€ë¶„ì˜ ê²Œì„ ìš”ì†ŒëŠ” ìœ„ì¹˜ ê¸°ë°˜ì…ë‹ˆë‹¤. `x`ì™€ `y`, ìœ„ì¹˜ë¥¼ ê°€ì§€ê³  ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- **movable** ìƒˆ ìœ„ì¹˜ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” ê°ì²´ì…ë‹ˆë‹¤. ì´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì˜ì›…, ëª¬ìŠ¤í„° í˜¹ì€ NPC(non player character)ì´ì§€ë§Œ, ì˜ˆë¥¼ ë“¤ì–´, ë‚˜ë¬´ì™€ ê°™ì€ ì •ì  ê°ì²´ëŠ” ì•„ë‹™ë‹ˆë‹¤.
- **self-destructing** ì´ëŸ° ê°ì²´ëŠ” ì‚­ì œ ì‘ì—…ì„ ìœ„í•´ ì„¤ì •ë˜ê¸° ì „ ì¼ì •í•œ ì‹œê°„ì—ë§Œ ì¡´ì¬í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì´ ê°ì²´ê°€ ë” ì´ìƒ ë Œë”ë§í•˜ì§€ ì•Šë„ë¡ ê²Œì„ ì—”ì§„ì— ì•Œë¦¬ê¸° ìœ„í•´ì„œëŠ” `dead` ë˜ëŠ” `destroyed` ë…¼ë¦¬ ìë£Œí˜•ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.
- **cool-down** 'Cool-down'ì€ ì§§ì€-ìˆ˜ëª… ê°ì²´ì˜ ì¼ë°˜ì ì¸ ì†ì„±ì…ë‹ˆë‹¤. ì¼ë°˜ì ì¸ ì˜ˆì‹œëŠ” ëª‡ milli ì´ˆ ë™ì•ˆë§Œ ë³´ì´ëŠ” í­ë°œê³¼ ê°™ì€ í…ìŠ¤íŠ¸ ë˜ëŠ” ê·¸ë˜í”½ ì´í™íŠ¸ì…ë‹ˆë‹¤.

âœ… Pac-Manê³¼ ê°™ì€ ê²Œì„ì„ ìƒê°í•´ë³´ì„¸ìš”. ì´ ê²Œì„ì—ì„œ ìœ„ ë‚˜ì—´ëœ 4ê°€ì§€ ê°ì²´ íƒ€ì…ì„ êµ¬ë³„í•  ìˆ˜ ìˆë‚˜ìš”?

### í–‰ë™ í‘œí˜„

ì„¤ëª…í•œ ëª¨ë“  ê²ƒì€ ê²Œì„ ê°ì²´ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ë™ì‘ì…ë‹ˆë‹¤. ê·¸ëŸ¼ ì–´ë–»ê²Œ ì¸ì½”ë”© ë ê¹Œìš”? ì´ ë™ì‘ì„ í´ë˜ìŠ¤ í˜¹ì€ ê°ì²´ì™€ ê´€ë ¨ëœ ë©”ì†Œë“œë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**Classes**

ì•„ì´ë””ì–´ë¡œëŠ” í´ë˜ìŠ¤ì— íŠ¹ì • ë™ì‘ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ `inheritance`ê³¼ í•¨ê»˜ `classes`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

âœ… ìƒì†ì€ ì´í•´í•´ì•¼ í•  ì¤‘ìš”í•œ ì»¨ì…‰ì…ë‹ˆë‹¤. [MDN's article about inheritance](https://developer.mozilla.org/docs/Web/JavaScript/Inheritance_and_the_prototype_chain)ë¡œ ë” ë°°ì›Œë³´ì„¸ìš”.

ì½”ë“œë¥¼ í†µí•´ í‘œí˜„ë˜ëŠ”, ê²Œì„ ê°ì²´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```javascript

//set up the class GameObject
class GameObject {
  constructor(x, y, type) {
    this.x = x;
    this.y = y;
    this.type = type;
  }
}

//this class will extend the GameObject's inherent class properties
class Movable extends GameObject {
  constructor(x,y, type) {
    super(x,y, type)
  }

//this movable object can be moved on the screen
  moveTo(x, y) {
    this.x = x;
    this.y = y;
  }
}

//this is a specific class that extends the Movable class, so it can take advantage of all the properties that it inherits
class Hero extends Movable {
  constructor(x,y) {
    super(x,y, 'Hero')
  }
}

//this class, on the other hand, only inherits the GameObject properties
class Tree extends GameObject {
  constructor(x,y) {
    super(x,y, 'Tree')
  }
}

//a hero can move...
const hero = new Hero();
hero.moveTo(5,5);

//but a tree cannot
const tree = new Tree();
```

âœ… ì ì‹œ ì‹œê°„ì„ ë‚´ì–´ Pac-Man ì˜ì›… (ì˜ˆë¥¼ ë“¤ì–´, Inky, Pinky í˜¹ì€ Blinky)ê³¼ JavaScriptë¡œ ì‘ì„±ë˜ëŠ” ë°©ë²•ì„ ë‹¤ì‹œ êµ¬ìƒí•˜ì‹­ì‹œì˜¤.

**Composition**

ê°ì²´ ìƒì†ì„ ì²˜ë¦¬í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œëŠ” *Composition* ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë©´, ê°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘ì„ í‘œí˜„í•©ë‹ˆë‹¤:

```javascript
//create a constant gameObject
const gameObject = {
  x: 0,
  y: 0,
  type: ''
};

//...and a constant movable
const movable = {
  moveTo(x, y) {
    this.x = x;
    this.y = y;
  }
}
//then the constant movableObject is composed of the gameObject and movable constants
const movableObject = {...gameObject, ...movable};

//then create a function to create a new Hero who inherits the movableObject properties
function createHero(x, y) {
  return {
    ...movableObject,
    x,
    y,
    type: 'Hero'
  }
}
//...and a static object that inherits only the gameObject properties
function createStatic(x, y, type) {
  return {
    ...gameObject
    x,
    y,
    type
  }
}
//create the hero and move it
const hero = createHero(10,10);
hero.moveTo(5,5);
//and create a static tree which only stands around
const tree = createStatic(0,0, 'Tree'); 
```

**ì–´ë–¤ íŒ¨í„´ì„ ì‚¬ìš©í•´ì•¼ í•˜ë‚˜ìš”?**

ì–´ë–¤ íŒ¨í„´ì„ ì„ íƒí•˜ëŠ” ì§€ëŠ” ì—¬ëŸ¬ë¶„ì—ê²Œ ë‹¬ë ¤ ìˆìŠµë‹ˆë‹¤. JavaScriptëŠ” ì´ëŸ¬í•œ íŒ¨ëŸ¬ë‹¤ì„ì„ ëª¨ë‘ ì§€ì›í•©ë‹ˆë‹¤.

--

ê²Œì„ ê°œë°œì—ì„œ í”íˆ ë³¼ ìˆ˜ ìˆëŠ” ë˜ ë‹¤ë¥¸ íŒ¨í„´ìœ¼ë¡œëŠ” ê²Œì„ì˜ ì‚¬ìš©ì ê²½í—˜ê³¼ ì„±ëŠ¥ ë¬¸ì œë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.

## Pub/sub íŒ¨í„´

âœ… Pub/Subì€ 'publish-subscribe'ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤

ì´ íŒ¨í„´ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê°ì ë‹¤ë¥¸ ë¶€ë¶„ì´ ì„œë¡œ ì•Œê³  ìˆìœ¼ë©´ ì•ˆëœë‹¤ëŠ” ì•„ì´ë””ì–´ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤. ì™œ ê·¸ëŸ´ê¹Œìš”? ì—¬ëŸ¬ ë¶€ë¶„ì´ ë¶„ë¦¬ ë˜ì–´ìˆë‹¤ë©´ ë³´í†µ ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚˜ëŠ”ì§€ ì‰½ê²Œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•„ìš”í•œ ê²½ìš°ì—ëŠ” ë°”ë¡œ ë™ì‘ì„ ë³€ê²½í•˜ê¸°ë„ ë” ì‰½ìŠµë‹ˆë‹¤. ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”? ëª‡ ê°€ì§€ ì»¨ì…‰ì„ ì •í•˜ê³  ì§€í‚µì‹œë‹¤.

- **message**: ë©”ì‹œì§€ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì„ íƒì  payload (ëª…í™•í•œ ë©”ì‹œì§€ ë‚´ìš© ë°ì´í„° ì¡°ê°)ì™€ í•¨ê»˜ ì œê³µë˜ëŠ” í…ìŠ¤íŠ¸ ë¬¸ìì—´ì…ë‹ˆë‹¤. ê²Œì„ì˜ ì¼ë°˜ì ì¸ ë©”ì‹œì§€ëŠ” `KEY_PRESSED_ENTER` ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **publisher**: ì´ ìš”ì†ŒëŠ” ë©”ì‹œì§€ë¥¼ *publishes*í•˜ê³  ëª¨ë“  êµ¬ë…ìì—ê²Œ ë³´ëƒ…ë‹ˆë‹¤.
- **subscriber**: ì´ ìš”ì†ŒëŠ” íŠ¹ì • ë©”ì‹œì§€ë¥¼ *listens* í•˜ê³  ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•œ ê²°ê³¼ë¡œ ë ˆì´ì € ë°œì‚¬ì™€ ê°™ì€ ì¼ë¶€ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

implementationì€ í¬ê¸°ê°€ ë§¤ìš° ì‘ì§€ë§Œ ë§¤ìš° ê°•í•œ íŒ¨í„´ì…ë‹ˆë‹¤. êµ¬í˜„ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```javascript
//set up an EventEmitter class that contains listeners
class EventEmitter {
  constructor() {
    this.listeners = {};
  }
//when a message is received, let the listener to handle its payload
  on(message, listener) {
    if (!this.listeners[message]) {
      this.listeners[message] = [];
    }
    this.listeners[message].push(listener);
  }
//when a message is sent, send it to a listener with some payload
  emit(message, payload = null) {
    if (this.listeners[message]) {
      this.listeners[message].forEach(l => l(message, payload))
    }
  }
}

```

ìœ„ì˜ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ë§¤ìš° ì‘ì€ implementationì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```javascript
//set up a message structure
const Messages = {
  HERO_MOVE_LEFT: 'HERO_MOVE_LEFT'
};
//invoke the eventEmitter you set up above
const eventEmitter = new EventEmitter();
//set up a hero
const hero = createHero(0,0);
//let the eventEmitter know to watch for messages pertaining to the hero moving left, and act on it
eventEmitter.on(Messages.HERO_MOVE_LEFT, () => {
  hero.move(5,0);
});

//set up the window to listen for the keyup event, specifically if the left arrow is hit, emit a message to move the hero left
window.addEventListener('keyup', (evt) => {
  if (evt.key === 'ArrowLeft') {
    eventEmitter.emit(Messages.HERO_MOVE_LEFT)
  }
});
```

ìœ„ì—ì„œ ìš°ë¦¬ëŠ” í‚¤ë³´ë“œ ì´ë²¤íŠ¸ `ArrowLeft`ë¥¼ ì—°ê²°í•˜ê³ , `HERO_MOVE_LEFT` ë©”ì‹œì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ê·¸ ë©”ì‹œì§€ë¥¼ ë“£ê³  ìµœì¢…ì ìœ¼ë¡œ `hero`ì„ ì›€ì§ì…ë‹ˆë‹¤. ì´ íŒ¨í„´ì˜ ê°•ì ì€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì™€ ì˜ì›…ì´ ì„œë¡œ ì•Œì§€ ëª»í•œë‹¤ëŠ” ì ì…ë‹ˆë‹¤. `ArrowLeft`ë¥¼ `A`í‚¤ë¡œ ë‹¤ì‹œ ë§¤í•‘í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì¶”ê°€ì ìœ¼ë¡œ eventEmitterì˜ `on` í•¨ìˆ˜ë¥¼ ì¡°ê¸ˆ ìˆ˜ì •í•˜ì—¬ `ArrowLeft`ë¡œ ì™„ì „íˆ ë‹¤ë¥¸ ì‘ì—…ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```javascript
eventEmitter.on(Messages.HERO_MOVE_LEFT, () => {
  hero.move(5,0);
});
```

ê²Œì„ì˜ ëª¸ì§‘ì´ ì»¤ì§ˆ ë•Œ ë” ë³µì¡í•´ì§„ë‹¤ë©´, ì´ íŒ¨í„´ì€ ë³µì¡ì„±ì„ ë™ì¼í•˜ë©´ì„œ ì½”ë“œë„ ê¹¨ë—í•˜ê²Œ ìœ ì§€í•©ë‹ˆë‹¤. ì´ íŒ¨í„´ì„ ì±„íƒí•˜ëŠ” ê²ƒì€ ì •ë§ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.

---

## ğŸš€ ë„ì „

pub-sub íŒ¨í„´ì´ ì–´ë–»ê²Œ ê²Œì„ì„ ë°œì „ì‹œí‚¬ ìˆ˜ ìˆëŠ”ì§€ ìƒê°í•´ë³´ì„¸ìš”. ì–´ë–¤ ë¶€ë¶„ì´ ì´ë²¤íŠ¸ë¥¼ ì–´ë–»ê²Œ ë°œìƒí•˜ê³ , ë°˜ì‘í•´ì•¼ í•˜ë‚˜ìš”? ì´ì œëŠ” ì°½ì˜ë ¥ì„ ë°œíœ˜í•˜ê³ , ìƒˆë¡œìš´ ê²Œì„ê³¼ ê·¸ ë¶€ë¶„ì— ëŒ€í•´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ìƒê°í•´ë³¼ ìˆ˜ ìˆëŠ” ê¸°íšŒì…ë‹ˆë‹¤.

## ê°•ì˜ í›„ í€´ì¦ˆ

[Post-lecture quiz](https://ashy-river-0debb7803.1.azurestaticapps.net/quiz/30?loc=ko)

## ë¦¬ë·° & ìê¸°ì£¼ë„ í•™ìŠµ

[reading about it](https://docs.microsoft.com/azure/architecture/patterns/publisher-subscriber/?WT.mc_id=academic-77807-sagibbon)ìœ¼ë¡œ Pub/Subì— ëŒ€í•´ ì¡°ê¸ˆ ë” ë°°ì›Œë´…ì‹œë‹¤.

## ê³¼ì œ

[Mock up a game](../assignment.md)


export default ({ children }) => <div className="docs-content">{children}</div>;