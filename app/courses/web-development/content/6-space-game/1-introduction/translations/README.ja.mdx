---
title: ã‚¹ãƒšãƒ¼ã‚¹ã‚²ãƒ¼ãƒ æ§‹ç¯‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãã® 1: ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³
description: No description available
lastUpdated: 2024-12-21T06:11:55.012Z
---

# ã‚¹ãƒšãƒ¼ã‚¹ã‚²ãƒ¼ãƒ æ§‹ç¯‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãã® 1: ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³

![video](../../images/pewpew.gif)

## ãƒ¬ãƒƒã‚¹ãƒ³å‰ã®å°ãƒ†ã‚¹ãƒˆ

[ãƒ¬ãƒƒã‚¹ãƒ³å‰ã®å°ãƒ†ã‚¹ãƒˆ](https://ashy-river-0debb7803.1.azurestaticapps.net/quiz/29?loc=ja)

### ã‚²ãƒ¼ãƒ é–‹ç™ºã«ãŠã‘ã‚‹ç¶™æ‰¿ã¨ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³

ä»¥å‰ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦æ¨¡ãŒéå¸¸ã«å°ã•ã‹ã£ãŸãŸã‚ã€æ§‹ç¯‰ã—ãŸã‚¢ãƒ—ãƒªã®è¨­è¨ˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ°—ã«ã™ã‚‹å¿…è¦ã¯ã‚ã¾ã‚Šã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã—ã‹ã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¦æ¨¡ã‚„ç¯„å›²ãŒå¤§ãããªã‚‹ã¨ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ±ºå®šãŒã‚ˆã‚Šå¤§ããªé–¢å¿ƒäº‹ã«ãªã‚Šã¾ã™ã€‚JavaScript ã§å¤§è¦æ¨¡ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹ã«ã¯ã€å¤§ããåˆ†ã‘ã¦2ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒã‚ã‚Šã¾ã™ã€‚*ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³* ã¨ *ç¶™æ‰¿* ã§ã™ã€‚ã©ã¡ã‚‰ã«ã‚‚é•·æ‰€ã¨çŸ­æ‰€ãŒã‚ã‚Šã¾ã™ãŒã€ã‚²ãƒ¼ãƒ ã®æ–‡è„ˆã‹ã‚‰èª¬æ˜ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

âœ… ã“ã‚Œã¾ã§ã«æ›¸ã‹ã‚ŒãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°æœ¬ã®ä¸­ã§æœ€ã‚‚æœ‰åãªã‚‚ã®ã®ä¸€ã¤ã¯ã€[ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³](https://ja.wikipedia.org/wiki/%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3_(%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2))ã¨é–¢ä¿‚ãŒã‚ã‚Šã¾ã™ã€‚

ã‚²ãƒ¼ãƒ ã«ã¯ `ã‚²ãƒ¼ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ` ãŒã‚ã‚Šã€ã“ã‚Œã¯ç”»é¢ä¸Šã«å­˜åœ¨ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚ã¤ã¾ã‚Šã€ãã‚Œã‚‰ã¯ç›´äº¤åº§æ¨™ç³»ä¸Šã«ä½ç½®ã—ã¦ãŠã‚Šã€`x` ã¨ `y` ã®åº§æ¨™ã‚’æŒã¤ã“ã¨ãŒç‰¹å¾´ã§ã™ã€‚ã‚²ãƒ¼ãƒ ã‚’é–‹ç™ºã—ã¦ã„ãã†ã¡ã«ã€ã™ã¹ã¦ã®ã‚²ãƒ¼ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ã€ã™ã¹ã¦ã®ã‚²ãƒ¼ãƒ ã«å…±é€šã™ã‚‹æ¨™æº–çš„ãªç‰¹æ€§ãŒã‚ã‚‹ã“ã¨ã«æ°—ã¥ãã§ã—ã‚‡ã†ã€‚

- **location-based** ã™ã¹ã¦ã§ã¯ãªã„ã«ã—ã¦ã‚‚ã€ã»ã¨ã‚“ã©ã®ã‚²ãƒ¼ãƒ è¦ç´ ã¯ä½ç½®æƒ…å ±ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€å ´æ‰€ã€`x` ã¨ `y` ã‚’æŒã¤ã“ã¨ã‚’æ„å‘³ã—ã¾ã™
- **movable** ã“ã‚Œã‚‰ã¯ã€æ–°ã—ã„å ´æ‰€ã«ç§»å‹•ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚ã“ã‚Œã¯å…¸å‹çš„ã«ã¯ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚„ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã€NPC (ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã¯ãªã„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼) ãªã©ã§ã™ãŒã€ä¾‹ãˆã°æœ¨ã®ã‚ˆã†ãªé™çš„ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ãã†ã§ã¯ã‚ã‚Šã¾ã›ã‚“
- **self-destructing** ã“ã‚Œã‚‰ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€å‰Šé™¤ã®ãŸã‚ã«è‡ªåˆ†è‡ªèº«ã‚’è¨­å®šã™ã‚‹å‰ã«ã€ä¸€å®šæœŸé–“ã ã‘å­˜åœ¨ã—ã¾ã™ã€‚é€šå¸¸ã€ã“ã‚Œã¯ `dead` ã¾ãŸã¯ `destroyed` ãƒ–ãƒ¼ãƒ«å€¤ã§è¡¨ã•ã‚Œã€ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œãªããªã‚‹ã“ã¨ã‚’ã‚²ãƒ¼ãƒ ã‚¨ãƒ³ã‚¸ãƒ³ã«é€šçŸ¥ã—ã¾ã™
- **cool-down** ã€Œã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ã€ã¯ã€çŸ­å‘½ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¸å‹çš„ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã™ã€‚å…¸å‹çš„ãªä¾‹ã¨ã—ã¦ã¯ã€æ•°ãƒŸãƒªç§’ã—ã‹è¦‹ã‚‰ã‚Œãªã„çˆ†ç™ºã®ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚„ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯åŠ¹æœãŒã‚ã‚Šã¾ã™ã€‚

âœ… ãƒ‘ãƒƒã‚¯ãƒãƒ³ã®ã‚ˆã†ãªã‚²ãƒ¼ãƒ ã«ã¤ã„ã¦è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã“ã®ã‚²ãƒ¼ãƒ ã§ã¯ã€ä¸Šã«æŒ™ã’ãŸ4ã¤ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç¨®é¡ã‚’ç‰¹å®šã§ãã¾ã™ã‹?

### è¡Œå‹•ã®è¡¨ç¾

ä¸Šã§èª¬æ˜ã—ãŸã®ã¯ã€ã™ã¹ã¦ã‚²ãƒ¼ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒæŒã¤ã“ã¨ã®ã§ãã‚‹å‹•ä½œã§ã™ã€‚ã§ã¯ã€ãã‚Œã‚‰ã‚’ã©ã®ã‚ˆã†ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹? ã“ã®å‹•ä½œã‚’ã‚¯ãƒ©ã‚¹ã‚„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

**ã‚¯ãƒ©ã‚¹**

ã‚¯ãƒ©ã‚¹ã«ç‰¹å®šã®æŒ¯ã‚‹èˆã„ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã« `ã‚¯ãƒ©ã‚¹` ã‚’ `ç¶™æ‰¿` ã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ã†ã¨ã„ã†è€ƒãˆæ–¹ã§ã™ã€‚

âœ… ç¶™æ‰¿ã¯ç†è§£ã—ã¦ãŠãã¹ãé‡è¦ãªæ¦‚å¿µã§ã™ã€‚[ç¶™æ‰¿ã«é–¢ã™ã‚‹ MDN ã®è¨˜äº‹](https://developer.mozilla.org/ja/docs/Web/JavaScript/Inheritance_and_the_prototype_chain)ã§è©³ã—ãè§£èª¬ã—ã¦ã„ã¾ã™ã€‚

ã‚³ãƒ¼ãƒ‰ã§è¡¨ç¾ã™ã‚‹ã¨ã€ã‚²ãƒ¼ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯é€šå¸¸ã“ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```javascript

//GameObject ã‚¯ãƒ©ã‚¹ã‚’è¨­å®šã—ã¾ã™ã€‚
class GameObject {
  constructor(x, y, type) {
    this.x = x;
    this.y = y;
    this.type = type;
  }
}

//ã“ã®ã‚¯ãƒ©ã‚¹ã¯ GameObject ã®å›ºæœ‰ã®ã‚¯ãƒ©ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ‹¡å¼µã—ã¾ã™ã€‚
class Movable extends GameObject {
  constructor(x,y, type) {
    super(x,y, type)
  }

//ã“ã®ç§»å‹•å¯èƒ½ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã€ç”»é¢ä¸Šã§ç§»å‹•ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
  moveTo(x, y) {
    this.x = x;
    this.y = y;
  }
}

//ã“ã‚Œã¯ Movable ã‚¯ãƒ©ã‚¹ã‚’æ‹¡å¼µã—ãŸç‰¹å®šã®ã‚¯ãƒ©ã‚¹ã§ã€ç¶™æ‰¿ã—ã¦ã„ã‚‹ã™ã¹ã¦ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
class Hero extends Movable {
  constructor(x,y) {
    super(x,y, 'Hero')
  }
}

//ä¸€æ–¹ã€ã“ã®ã‚¯ãƒ©ã‚¹ã¯ GameObject ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ã¿ã‚’ç¶™æ‰¿ã—ã¦ã„ã¾ã™ã€‚
class Tree extends GameObject {
  constructor(x,y) {
    super(x,y, 'Tree')
  }
}

//hero ã¯å‹•ãã“ã¨ãŒã§ãã¾ã™
const hero = new Hero();
hero.moveTo(5,5);

//ã—ã‹ã—æœ¨ã«ã¯ã§ãã¾ã›ã‚“
const tree = new Tree();
```

âœ… ãƒ‘ãƒƒã‚¯ãƒãƒ³ã®ãƒ’ãƒ¼ãƒ­ãƒ¼ (ä¾‹ãˆã°ã€Inkyã€Pinkyã€Blinky ãªã©) ã¨ã€ãã‚ŒãŒ JavaScript ã§ã©ã®ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã‹ã‚’ã€æ•°åˆ†ã‹ã‘ã¦å†å®šç¾©ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

**ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³**

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç¶™æ‰¿ã‚’å‡¦ç†ã™ã‚‹åˆ¥ã®æ–¹æ³•ã¨ã—ã¦ã€*ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³* ã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ã™ã‚‹ã¨ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯æ¬¡ã®ã‚ˆã†ã«å‹•ä½œã‚’è¡¨ç¾ã—ã¾ã™ã€‚

```javascript
//å®šæ•°ã® gameObject ã‚’ä½œæˆã™ã‚‹
const gameObject = {
  x: 0,
  y: 0,
  type: ''
};

//ãã—ã¦å®šæ•°ã® movable
const movable = {
  moveTo(x, y) {
    this.x = x;
    this.y = y;
  }
}
//ãã—ã¦ã€å®šæ•° movableObject ã¯å®šæ•° gameObject ã¨ movable ã§æ§‹æˆã•ã‚Œã¾ã™ã€‚
const movableObject = {...gameObject, ...movable};

//æ¬¡ã«ã€movableObject ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç¶™æ‰¿ã™ã‚‹æ–°ã—ã„ Hero ã‚’ä½œæˆã™ã‚‹é–¢æ•°ã‚’ä½œæˆã—ã¾ã™ã€‚
function createHero(x, y) {
  return {
    ...movableObject,
    x,
    y,
    type: 'Hero'
  }
}
//...ãã—ã¦ gameObject ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ã¿ã‚’ç¶™æ‰¿ã™ã‚‹é™çš„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚
function createStatic(x, y, type) {
  return {
    ...gameObject
    x,
    y,
    type
  }
}
//hero ã‚’ä½œã£ã¦å‹•ã‹ã—ã¾ã™
const hero = createHero(10,10);
hero.moveTo(5,5);
//ãã—ã¦ã€å‘¨ã‚Šã«ç«‹ã¤ã ã‘ã®æœ¨ã‚’ä½œã‚Šã¾ã™
const tree = createStatic(0,0, 'Tree'); 
```

**ã©ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ãˆã°ã„ã„ã®ã‹ï¼Ÿ**

ã©ã¡ã‚‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸ã¶ã‹ã¯ã‚ãªãŸæ¬¡ç¬¬ã§ã™ã€‚JavaScript ã¯ã“ã‚Œã‚‰ã®ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ ã®ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

--

ã‚²ãƒ¼ãƒ é–‹ç™ºã«å…±é€šã™ã‚‹ã‚‚ã†ä¸€ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€ã‚²ãƒ¼ãƒ ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‡¦ç†ã™ã‚‹å•é¡Œã‚’æ‰±ã£ã¦ã„ã¾ã™ã€‚

## Pub/Sub ãƒ‘ã‚¿ãƒ¼ãƒ³

âœ… Pub/Sub ã¯ 'publish-subscribe' ã®ç•¥ã§ã™ã€‚

ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€ã‚ãªãŸã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒãƒ©ãƒãƒ©ãªéƒ¨åˆ†ãŒåˆ¥ã®ã‚‚ã®ã‚’çŸ¥ã£ã¦ã¯ã„ã‘ãªã„ã¨ã„ã†è€ƒãˆã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ãã‚Œã¯ãªãœã§ã—ã‚‡ã†ã‹? æ§˜ã€…ãªéƒ¨åˆ†ãŒåˆ†é›¢ã•ã‚Œã¦ã„ã‚‹ã¨ã€ä¸€èˆ¬çš„ã«ä½•ãŒèµ·ã“ã£ã¦ã„ã‚‹ã®ã‹ã‚’è¦‹ã‚‹ã®ãŒã¨ã¦ã‚‚ç°¡å˜ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€å¿…è¦ã«å¿œã˜ã¦çªç„¶å‹•ä½œã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã‚‚å®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚ã©ã®ã‚ˆã†ã«ã—ã¦ã“ã‚Œã‚’é”æˆã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹? ã„ãã¤ã‹ã®æ¦‚å¿µã‚’ç¢ºç«‹ã™ã‚‹ã“ã¨ã§å®Ÿç¾ã—ã¾ã™ã€‚

- **message**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯é€šå¸¸ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ (ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹ã‚’æ˜ç¢ºã«ã™ã‚‹ãƒ‡ãƒ¼ã‚¿) ã‚’ä¼´ã£ãŸãƒ†ã‚­ã‚¹ãƒˆæ–‡å­—åˆ—ã§ã™ã€‚ã‚²ãƒ¼ãƒ ã«ãŠã‘ã‚‹å…¸å‹çš„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ `KEY_PRESSED_ENTER` ã§ã™
- **publisher**: ã“ã®è¦ç´ ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’**ç™ºè¡Œã—**ã€ã™ã¹ã¦ã®è³¼èª­è€…ã«é€ä¿¡ã—ã¾ã™
- **subscriber**: ã“ã®è¦ç´ ã¯ã€ç‰¹å®šã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ *å¾…ã¡å—ã‘*ã€ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ä¿¡ã—ãŸçµæœã¨ã—ã¦ã€ãƒ¬ãƒ¼ã‚¶ãƒ¼ã‚’ç™ºå°„ã™ã‚‹ãªã©ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™

å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã®ã¯ã‹ãªã‚Šå°ã•ã„ã§ã™ãŒã€ã‹ãªã‚Šå¼·åŠ›ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã€‚ä»¥ä¸‹ã«å®Ÿè£…æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

```javascript
//ãƒªã‚¹ãƒŠãƒ¼ã‚’å«ã‚€ EventEmitter ã‚¯ãƒ©ã‚¹ã‚’è¨­å®šã—ã¾ã™ã€‚
class EventEmitter {
  constructor() {
    this.listeners = {};
  }
//ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ä¿¡ã—ãŸã¨ãã«ã€ãƒªã‚¹ãƒŠãƒ¼ã«ãã®ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‚’å‡¦ç†ã•ã›ã¾ã™ã€‚
  on(message, listener) {
    if (!this.listeners[message]) {
      this.listeners[message] = [];
    }
    this.listeners[message].push(listener);
  }
//ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ä¿¡ã—ãŸã¨ãã«ã€ãƒªã‚¹ãƒŠãƒ¼ã«ãã®ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‚’å‡¦ç†ã•ã›ã¾ã™ã€‚
  emit(message, payload = null) {
    if (this.listeners[message]) {
      this.listeners[message].forEach(l => l(message, payload))
    }
  }
}

```

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã€éå¸¸ã«å°ã•ãªå®Ÿè£…ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```javascript
//ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ§‹é€ ã‚’è¨­å®šã—ã¾ã™
const Messages = {
  HERO_MOVE_LEFT: 'HERO_MOVE_LEFT'
};
//ä¸Šè¨˜ã§è¨­å®šã—ãŸ EventEmitter ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚
const eventEmitter = new EventEmitter();
//hero ã‚’è¨­å®šã—ã¾ã™ã€‚
const hero = createHero(0,0);
//ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡è€…ã« hero ãŒå·¦ã«ç§»å‹•ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã‚’çŸ¥ã‚‰ã›ã€ãã‚Œã«åŸºã¥ã„ã¦è¡Œå‹•ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚
eventEmitter.on(Messages.HERO_MOVE_LEFT, () => {
  hero.move(5,0);
});

//keyup ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒªãƒƒã‚¹ãƒ³ã™ã‚‹ãŸã‚ã«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’è¨­å®šã—ã€å…·ä½“çš„ã«ã¯å·¦çŸ¢å°ãŒãƒ’ãƒƒãƒˆã—ãŸå ´åˆã€hero ã‚’å·¦ã«ç§»å‹•ã™ã‚‹ãŸã‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™ºã—ã¾ã™ã€‚
window.addEventListener('keyup', (evt) => {
  if (evt.key === 'ArrowLeft') {
    eventEmitter.emit(Messages.HERO_MOVE_LEFT)
  }
});
```

ä¸Šã§ã¯ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆ `ArrowLeft` ã‚’æ¥ç¶šã—ã¦ `HERO_MOVE_LEFT` ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¦ã„ã‚‹ã€‚ç§ãŸã¡ã¯ãã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’èãã€ãã®çµæœã¨ã—ã¦ `hero` ã‚’ç§»å‹•ã•ã›ã¾ã™ã€‚ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å¼·ã¿ã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã¨ãƒ’ãƒ¼ãƒ­ãƒ¼ãŒãŠäº’ã„ã®ã“ã¨ã‚’çŸ¥ã‚‰ãªã„ã“ã¨ã§ã™ã€‚`ArrowLeft` ã‚’ `A` ã‚­ãƒ¼ã«ãƒªãƒãƒƒãƒ—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã•ã‚‰ã«ã€eventEmitter ã® `on` é–¢æ•°ã«ã„ãã¤ã‹ã®ç·¨é›†ã‚’åŠ ãˆã‚‹ã“ã¨ã§ã€`ArrowLeft` ã§å…¨ãç•°ãªã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

```javascript
eventEmitter.on(Messages.HERO_MOVE_LEFT, () => {
  hero.move(5,0);
});
```

ã‚²ãƒ¼ãƒ ãŒæˆé•·ã™ã‚‹ã¨ãã«ç‰©äº‹ãŒã‚ˆã‚Šè¤‡é›‘ã«ãªã£ãŸã¨ã—ã¦ã‚‚ã€ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯è¤‡é›‘ã•ã®ä¸­ã§åŒã˜ã¾ã¾ã§ã€ã‚ãªãŸã®ã‚³ãƒ¼ãƒ‰ã¯ãã‚Œã„ãªã¾ã¾ã«ãªã‚Šã¾ã™ã€‚ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚

---

## ğŸš€ ãƒãƒ£ãƒ¬ãƒ³ã‚¸

pub-sub ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã©ã®ã‚ˆã†ã«ã‚²ãƒ¼ãƒ ã‚’ç››ã‚Šä¸Šã’ã‚‹ã‹ã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã©ã®ãƒ‘ãƒ¼ãƒ„ãŒã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç”Ÿã•ã›ã€ãã‚Œã«å¯¾ã—ã¦ã‚²ãƒ¼ãƒ ã¯ã©ã®ã‚ˆã†ã«åå¿œã—ã¾ã™ã‹? æ–°ã—ã„ã‚²ãƒ¼ãƒ ã¨ãã®ãƒ‘ãƒ¼ãƒ„ãŒã©ã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã†ã‹ã‚’è€ƒãˆã¦ã€å‰µé€ æ€§ã‚’ç™ºæ®ã™ã‚‹ãƒãƒ£ãƒ³ã‚¹ã§ã™ã€‚

## ãƒ¬ãƒƒã‚¹ãƒ³å¾Œã®å°ãƒ†ã‚¹ãƒˆ

[ãƒ¬ãƒƒã‚¹ãƒ³å¾Œã®å°ãƒ†ã‚¹ãƒˆ](https://ashy-river-0debb7803.1.azurestaticapps.net/quiz/30?loc=ja)

## å¾©ç¿’ã¨è‡ªå·±å­¦ç¿’

Pub/Sub ã«ã¤ã„ã¦ã¯ã€[ã“ã¡ã‚‰ã‚’èª­ã‚“ã§ã¿ã¦ãã ã•ã„](https://docs.microsoft.com/ja-jp/azure/architecture/patterns/publisher-subscriber/?WT.mc_id=academic-77807-sagibbon)ã€‚

## èª²é¡Œ

[ã‚²ãƒ¼ãƒ ã®ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—](assignment.ja.md)


export default ({ children }) => <div className="docs-content">{children}</div>;