---
title: ã‚¹ãƒšãƒ¼ã‚¹ã‚²ãƒ¼ãƒ æ§‹ç¯‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãã® 3: ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã®è¿½åŠ 
description: No description available
lastUpdated: 2024-12-21T06:11:55.094Z
---

# ã‚¹ãƒšãƒ¼ã‚¹ã‚²ãƒ¼ãƒ æ§‹ç¯‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãã® 3: ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã®è¿½åŠ 

## ãƒ¬ãƒƒã‚¹ãƒ³å‰ã®å°ãƒ†ã‚¹ãƒˆ

[ãƒ¬ãƒƒã‚¹ãƒ³å‰ã®å°ãƒ†ã‚¹ãƒˆ](https://ashy-river-0debb7803.1.azurestaticapps.net/quiz/33?loc=ja)

ã‚²ãƒ¼ãƒ ã¯ã€ã‚ãªãŸãŒç”»é¢ä¸Šã‚’èµ°ã‚Šå›ã‚‹ã‚¨ã‚¤ãƒªã‚¢ãƒ³ã‚’æŒã£ã¦ã„ã‚‹ã¾ã§ã¯ã€ã‚ã¾ã‚Šæ¥½ã—ã„ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“! ã“ã®ã‚²ãƒ¼ãƒ ã§ã¯ã€2ç¨®é¡ã®å‹•ãã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã®ã‚²ãƒ¼ãƒ ã§ã¯ã€2ç¨®é¡ã®å‹•ãã‚’åˆ©ç”¨ã—ã¦ã„ãã¾ã™ã€‚

- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰/ãƒã‚¦ã‚¹ã®å‹•ã**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚„ãƒã‚¦ã‚¹ã‚’æ“ä½œã—ã¦ç”»é¢ä¸Šã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç§»å‹•ã•ã›ãŸã¨ã
- **ã‚²ãƒ¼ãƒ ã§èª˜å°ã•ã‚ŒãŸå‹•ã**: ã‚²ãƒ¼ãƒ ãŒä¸€å®šã®æ™‚é–“é–“éš”ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç§»å‹•ã•ã›ãŸã¨ã

ã§ã¯ã€ã©ã®ã‚ˆã†ã«ã—ã¦ç”»é¢ä¸Šã§ç‰©ã‚’å‹•ã‹ã™ã®ã§ã—ã‚‡ã†ã‹? ãã‚Œã¯ã™ã¹ã¦ç›´äº¤åº§æ¨™ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½ç½® (x,y) ã‚’å¤‰æ›´ã—ã¦ã‹ã‚‰ã€ç”»é¢ã‚’å†æç”»ã—ã¾ã™ã€‚

é€šå¸¸ã€ç”»é¢ä¸Šã§ *ç§»å‹•* ã‚’è¡Œã†ã«ã¯ã€ä»¥ä¸‹ã®æ‰‹é †ãŒå¿…è¦ã§ã™ã€‚

1. ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®**æ–°ã—ã„ä½ç½®ã‚’è¨­å®šã—ã¾ã™**ã€‚ã“ã‚Œã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç§»å‹•ã—ãŸã¨èªè­˜ã™ã‚‹ãŸã‚ã«å¿…è¦ã§ã™
2. **ç”»é¢ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã™**ãŒã€ã“ã‚Œã¯æç”»ã®åˆé–“ã«ç”»é¢ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚èƒŒæ™¯è‰²ã§å¡—ã‚Šã¤ã¶ã™çŸ©å½¢ã‚’æãã“ã¨ã§ã‚¯ãƒªã‚¢ã§ãã¾ã™
3. æ–°ã—ã„å ´æ‰€ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’**å†æç”»ã—ã¾ã™**ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚ã‚‹å ´æ‰€ã‹ã‚‰åˆ¥ã®å ´æ‰€ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç§»å‹•ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™

 ã‚³ãƒ¼ãƒ‰ã§ã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚

```javascript
// hero ã®å ´æ‰€ã‚’æ±ºã‚ã¾ã™ã€‚
hero.x += 5;
// hero ãŒã„ã‚‹é•·æ–¹å½¢ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã™ã€‚
ctx.clearRect(0, 0, canvas.width, canvas.height);
// ã‚²ãƒ¼ãƒ ã®èƒŒæ™¯ã¨ hero æç”»ã—ç›´ã—ã¾ã™ã€‚
ctx.fillRect(0, 0, canvas.width, canvas.height)
ctx.fillStyle = "black";
ctx.drawImage(heroImg, hero.x, hero.y);
```

âœ… ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚’æ¯ç§’ä½•ãƒ•ãƒ¬ãƒ¼ãƒ ã‚‚æãç›´ã™ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚³ã‚¹ãƒˆãŒç™ºç”Ÿã™ã‚‹ç†ç”±ãŒæ€ã„ã¤ãã¾ã™ã‹? [ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä»£æ›¿æ¡ˆ](https://www.html5rocks.com/ja/tutorials/canvas/performance/)ã‚’èª­ã‚“ã§ã¿ã¦ãã ã•ã„ã€‚

## ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã®å‡¦ç†

ã‚³ãƒ¼ãƒ‰ã«ç‰¹å®šã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ã“ã¨ã§ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã—ã¾ã™ã€‚ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã¯ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å…¨ä½“ã§ãƒˆãƒªã‚¬ãƒ¼ã•ã‚Œã¾ã™ãŒã€`click` ã®ã‚ˆã†ãªãƒã‚¦ã‚¹ã‚¤ãƒ™ãƒ³ãƒˆã¯ç‰¹å®šã®è¦ç´ ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã“ã¨ã«æ¥ç¶šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã™ã‚‹ã«ã¯ã€ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã® `addEventListener()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã€2ã¤ã®å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æœ€åˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã‚¤ãƒ™ãƒ³ãƒˆã®åå‰ã§ã€ä¾‹ãˆã° `keyup` ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚2 ç•ªç›®ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€ã‚¤ãƒ™ãƒ³ãƒˆã®çµæœã¨ã—ã¦å‘¼ã³å‡ºã•ã‚Œã‚‹é–¢æ•°ã§ã™ã€‚ 

ä»¥ä¸‹ã«ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

```javascript
window.addEventListener('keyup', (evt) => {
  // `evt.key` = ã‚­ãƒ¼ã®æ–‡å­—åˆ—è¡¨ç¾
  if (evt.key === 'ArrowUp') {
    // ä½•ã‹å‡¦ç†ã‚’ã—ã¾ã™ã€‚
  }
})
```

ã‚­ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã«ã¯ã€ã©ã®ã‚­ãƒ¼ãŒæŠ¼ã•ã‚ŒãŸã‹ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã‚‹2ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚Šã¾ã™ã€‚

- `key`ã€ã“ã‚Œã¯æŠ¼ã•ã‚ŒãŸã‚­ãƒ¼ã®æ–‡å­—åˆ—è¡¨ç¾ã§ã€ä¾‹ãˆã° `ArrowUp` ã®ã‚ˆã†ãªã‚‚ã®ã§ã™
- `keyCode`ã€ã“ã‚Œã¯æ•°å€¤è¡¨ç¾ã§ã‚ã‚Šã€ä¾‹ãˆã° `37` ã¯ `ArrowLeft` ã«å¯¾å¿œã—ã¾ã™

âœ… ã‚­ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã®æ“ä½œã¯ã‚²ãƒ¼ãƒ é–‹ç™ºä»¥å¤–ã§ã‚‚æœ‰ç”¨ã§ã™ã€‚ä»–ã«ã¯ã©ã®ã‚ˆã†ãªç”¨é€”ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã‹?

### ç‰¹æ®Šãªã‚­ãƒ¼ï¼š æ³¨æ„äº‹é …

ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ *ç‰¹æ®Šãª* ã‚­ãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚ã¤ã¾ã‚Šã€`keyup` ã‚¤ãƒ™ãƒ³ãƒˆã‚’èã„ã¦ã„ã‚‹ã¨ãã«ã€ã“ã‚Œã‚‰ã®ç‰¹åˆ¥ãªã‚­ãƒ¼ã‚’ä½¿ã£ã¦ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚’å‹•ã‹ã—ãŸå ´åˆã€æ°´å¹³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚‚è¡Œã‚ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚ãã®ãŸã‚ã€ã‚²ãƒ¼ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹éš›ã«ã¯ã€ã“ã®ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ–ãƒ©ã‚¦ã‚¶ã®å‹•ä½œã‚’ *shut-off* ã—ãŸæ–¹ãŒè‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚

```javascript
let onKeyDown = function (e) {
  console.log(e.keyCode);
  switch (e.keyCode) {
    case 37:
    case 39:
    case 38:
    case 40: // çŸ¢å°ã‚­ãƒ¼
    case 32:
      e.preventDefault();
      break; // ã‚¹ãƒšãƒ¼ã‚¹
    default:
      break; // ä»–ã®ã‚­ãƒ¼ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„ã§ãã ã•ã„ã€‚
  }
};

window.addEventListener('keydown', onKeyDown);
```

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ã¯ã€çŸ¢å°ã‚­ãƒ¼ã¨ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã® *ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ* ã®å‹•ä½œãŒç¢ºå®Ÿã«ã‚·ãƒ£ãƒƒãƒˆã‚ªãƒ•ã•ã‚Œã¾ã™ã€‚*shut-off* ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¯ `e.preventDefault()` ã‚’å‘¼ã³å‡ºã™ã¨ãã«ç™ºç”Ÿã—ã¾ã™ã€‚

## ã‚²ãƒ¼ãƒ ã§èª˜å°ã•ã‚ŒãŸå‹•ã

`setTimeout()` ã‚„ `setInterval()` é–¢æ•°ã®ã‚ˆã†ãªã‚¿ã‚¤ãƒãƒ¼ã‚’ä½¿ã†ã“ã¨ã§ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½ç½®ã‚’ç›®ç››ã‚Šã‚„æ™‚é–“é–“éš”ã”ã¨ã«æ›´æ–°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã¯æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚

```javascript
let id = setInterval(() => {
  //æ•µã‚’ Y è»¸ã§å‹•ã‹ã™
  enemy.y += 10;
})
```

## ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—

ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã¨ã¯ã€åŸºæœ¬çš„ã«ã¯ä¸€å®šã®é–“éš”ã§å‘¼ã³å‡ºã•ã‚Œã‚‹é–¢æ•°ã®æ¦‚å¿µã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¦‹ãˆã‚‹ã¹ãã‚‚ã®ã¯ã™ã¹ã¦ãƒ«ãƒ¼ãƒ—ã«æç”»ã•ã‚Œã‚‹ã®ã§ã€ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã€‚ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã¯ã‚²ãƒ¼ãƒ ã®ä¸€éƒ¨ã§ã‚ã‚‹ã™ã¹ã¦ã®ã‚²ãƒ¼ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ©ç”¨ã—ã€ä½•ã‚‰ã‹ã®ç†ç”±ã§ã‚²ãƒ¼ãƒ ã®ä¸€éƒ¨ã§ã¯ãªã„å ´åˆã‚’é™¤ã„ã¦ã€ã™ã¹ã¦ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æç”»ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒãƒ¬ãƒ¼ã‚¶ãƒ¼ã§æ’ƒãŸã‚Œã¦å¹ãé£›ã‚“ã§ã—ã¾ã£ãŸå ´åˆã€ãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ç¾åœ¨ã®ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã®ä¸€éƒ¨ã§ã¯ãªããªã‚Šã¾ã™ (ã“ã‚Œã«ã¤ã„ã¦ã¯å¾Œã®ãƒ¬ãƒƒã‚¹ãƒ³ã§è©³ã—ãèª¬æ˜ã—ã¾ã™)ã€‚

ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ãŒã©ã®ã‚ˆã†ãªã‚‚ã®ã‹ã€ã‚³ãƒ¼ãƒ‰ã§è¡¨ç¾ã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```javascript
let gameLoopId = setInterval(() =>
  function gameLoop() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "black";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    drawHero();
    drawEnemies();
    drawStaticObjects();
}, 200);
```

ä¸Šè¨˜ã®ãƒ«ãƒ¼ãƒ—ã¯ `200` ãƒŸãƒªç§’ã”ã¨ã«å‘¼ã³å‡ºã•ã‚Œã€ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’å†æç”»ã—ã¾ã™ã€‚ã‚ãªãŸã®ã‚²ãƒ¼ãƒ ã«åˆã£ãŸæœ€é©ãªé–“éš”ã‚’é¸æŠã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## ã‚¹ãƒšãƒ¼ã‚¹ã‚²ãƒ¼ãƒ ã®ç¶šã

æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ã€ãã‚Œã‚’æ‹¡å¼µã—ã¦ã„ãã¾ã™ã€‚ãƒ‘ãƒ¼ãƒˆ â…  ã§å®Œæˆã•ã›ãŸã‚³ãƒ¼ãƒ‰ã‹ã‚‰å§‹ã‚ã‚‹ã‹ã€[ãƒ‘ãƒ¼ãƒˆâ…¡ã®ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼](../your-work)ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚

- **ãƒ’ãƒ¼ãƒ­ãƒ¼ã®ç§»å‹•**: çŸ¢å°ã‚­ãƒ¼ã‚’ä½¿ã£ã¦ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚’ç§»å‹•ã§ãã‚‹ã‚ˆã†ã«ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™
- **æ•µã‚’ç§»å‹•ã™ã‚‹**: ã¾ãŸã€æ•µãŒä¸ãˆã‚‰ã‚ŒãŸãƒ¬ãƒ¼ãƒˆã§ä¸Šã‹ã‚‰ä¸‹ã«ç§»å‹•ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™

## æ¨å¥¨ã•ã‚Œã‚‹æ‰‹é †

ã‚ãªãŸã®ãŸã‚ã«ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ `your-work` ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€å†…ã§æ¢ã—ã¾ã™ã€‚ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ã€‚

```bash
-| assets
  -| enemyShip.png
  -| player.png
-| index.html
-| app.js
-| package.json
```

æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã—ã¦ã€ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ `your_work` ãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰é–‹å§‹ã—ã¾ã™ã€‚

```bash
cd your-work
npm start
```

ä¸Šè¨˜ã¯ã€ã‚¢ãƒ‰ãƒ¬ã‚¹ `http://localhost:5000` ã® HTTP ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‹ã„ã¦ãã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€ä»Šã¯ãƒ’ãƒ¼ãƒ­ãƒ¼ã¨å…¨ã¦ã®æ•µãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚ãŸã ã—ã¾ã ä½•ã‚‚å‹•ã„ã¦ã„ã¾ã›ã‚“ã€‚

### ã‚³ãƒ¼ãƒ‰ã®è¿½åŠ 

1. `hero` ã¨ `enemy`ã€`game object`ã®ãŸã‚ã®**ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ ã—**ã€ãã‚Œã‚‰ã¯ `x` ã¨ `y` ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚([ç¶™æ‰¿ã‚„åˆæˆ](../../translations/README.ja.md)ã®éƒ¨åˆ†ã‚’è¦šãˆã¦ãŠã„ã¦ãã ã•ã„)

   *ãƒ’ãƒ³ãƒˆ* `game object` ã¯ `x` ã¨ `y` ã‚’æŒã¡ã€ãã‚Œè‡ªèº«ã‚’ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã™ã‚‹æ©Ÿèƒ½ã‚’æŒã¤ã‚‚ã®ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

   > tip: ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å®šç¾©ã—ãŸæ–°ã—ã„ GameObject ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã—ã¦ã‹ã‚‰ã€ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æç”»ã—ã¾ã™ã€‚
  
    ```javascript
    class GameObject {
      constructor(x, y) {
        this.x = x;
        this.y = y;
        this.dead = false;
        this.type = "";
        this.width = 0;
        this.height = 0;
        this.img = undefined;
      }
    
      draw(ctx) {
        ctx.drawImage(this.img, this.x, this.y, this.width, this.height);
      }
    }
    ```

    æ¬¡ã«ã€ã“ã® GameObject ã‚’æ‹¡å¼µã—ã¦ã€ãƒ’ãƒ¼ãƒ­ãƒ¼ã¨æ•µã‚’ä½œæˆã—ã¾ã™ã€‚
    
    ```javascript
    class Hero extends GameObject {
      constructor(x, y) {
        ...x, y, type, speedãŒå¿…è¦ã§ã™ã€‚
      }
    }
    ```

    ```javascript
    class Enemy extends GameObject {
      constructor(x, y) {
        super(x, y);
        (this.width = 98), (this.height = 50);
        this.type = "Enemy";
        let id = setInterval(() => {
          if (this.y < canvas.height - this.height) {
            this.y += 5;
          } else {
            console.log('Stopped at', this.y)
            clearInterval(id);
          }
        }, 300)
      }
    }
    ```

2. (ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚’ä¸Šä¸‹å·¦å³ã«å‹•ã‹ã™) ã‚­ãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã®**ã‚­ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’è¿½åŠ ã—ã¾ã™**

   *REMEMBER* ã“ã‚Œã¯ç›´äº¤åº§æ¨™ç³»ã§ã€å·¦ä¸Šã¯ `0,0` ã§ã™ã€‚ã¾ãŸã€*ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‹•ä½œ*ã‚’æ­¢ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚‚å¿˜ã‚Œãªã„ã§ãã ã•ã„*ã€‚

   > tip: onKeyDown é–¢æ•°ã‚’ä½œæˆã—ã¦ã€ãã‚Œã‚’ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«ã‚¢ã‚¿ãƒƒãƒã—ã¾ã™ã€‚

   ```javascript
    let onKeyDown = function (e) {
	      console.log(e.keyCode);
	        ...add the code from the lesson above to stop default behavior
	      }
    };

    window.addEventListener("keydown", onKeyDown);
   ```
    
   ã“ã®æ™‚ç‚¹ã§ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã€ã‚­ãƒ¼å…¥åŠ›ãŒãƒ­ã‚°ã«è¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚

3. [Pub Sub ãƒ‘ã‚¿ãƒ¼ãƒ³](../../translations/README.ja.md)ã‚’**å®Ÿè£…ã™ã‚‹**ã¨ã€æ®‹ã‚Šã®éƒ¨åˆ†ã«ç¶šãã‚ˆã†ã«ã‚³ãƒ¼ãƒ‰ã‚’ãã‚Œã„ã«ä¿ã¤ã“ã¨ãŒã§ãã¾ã™

   ã“ã®æœ€å¾Œã®éƒ¨åˆ†ã‚’è¡Œã†ã«ã¯

   1. ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«**ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ ã—ã¾ã™**

       ```javascript
        window.addEventListener("keyup", (evt) => {
          if (evt.key === "ArrowUp") {
            eventEmitter.emit(Messages.KEY_EVENT_UP);
          } else if (evt.key === "ArrowDown") {
            eventEmitter.emit(Messages.KEY_EVENT_DOWN);
          } else if (evt.key === "ArrowLeft") {
            eventEmitter.emit(Messages.KEY_EVENT_LEFT);
          } else if (evt.key === "ArrowRight") {
            eventEmitter.emit(Messages.KEY_EVENT_RIGHT);
          }
        });
        ```

    1. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™ºè¡Œã—ã¦è³¼èª­ã™ã‚‹ãŸã‚ã® **EventEmitter ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™**

        ```javascript
        class EventEmitter {
          constructor() {
            this.listeners = {};
          }
        
          on(message, listener) {
            if (!this.listeners[message]) {
              this.listeners[message] = [];
            }
            this.listeners[message].push(listener);
          }
        
          emit(message, payload = null) {
            if (this.listeners[message]) {
              this.listeners[message].forEach((l) => l(message, payload));
            }
          }
        }
        ```

    1. **å®šæ•°ã‚’è¿½åŠ **ã—ã¦ EventEmitter ã‚’è¨­å®šã—ã¾ã™

        ```javascript
        const Messages = {
          KEY_EVENT_UP: "KEY_EVENT_UP",
          KEY_EVENT_DOWN: "KEY_EVENT_DOWN",
          KEY_EVENT_LEFT: "KEY_EVENT_LEFT",
          KEY_EVENT_RIGHT: "KEY_EVENT_RIGHT",
        };
        
        let heroImg, 
            enemyImg, 
            laserImg,
            canvas, ctx, 
            gameObjects = [], 
            hero, 
            eventEmitter = new EventEmitter();
        ```

    1. **ã‚²ãƒ¼ãƒ ã‚’åˆæœŸåŒ–ã—ã¾ã™**

    ```javascript
    function initGame() {
      gameObjects = [];
      createEnemies();
      createHero();
    
      eventEmitter.on(Messages.KEY_EVENT_UP, () => {
        hero.y -=5 ;
      })
    
      eventEmitter.on(Messages.KEY_EVENT_DOWN, () => {
        hero.y += 5;
      });
    
      eventEmitter.on(Messages.KEY_EVENT_LEFT, () => {
        hero.x -= 5;
      });
    
      eventEmitter.on(Messages.KEY_EVENT_RIGHT, () => {
        hero.x += 5;
      });
    }
    ```

1. **ã‚²ãƒ¼ãƒ ã®ãƒ«ãƒ¼ãƒ—ã‚’è¨­å®šã—ã¾ã™**

   window.onload é–¢æ•°ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã¦ã‚²ãƒ¼ãƒ ã‚’åˆæœŸåŒ–ã—ã€è‰¯ã„é–“éš”ã§ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã‚’è¨­å®šã—ã¾ã™ã€‚ãƒ¬ãƒ¼ã‚¶ãƒ¼ãƒ“ãƒ¼ãƒ ã‚‚è¿½åŠ ã—ã¾ã™ã€‚

    ```javascript
    window.onload = async () => {
      canvas = document.getElementById("canvas");
      ctx = canvas.getContext("2d");
      heroImg = await loadTexture("assets/player.png");
      enemyImg = await loadTexture("assets/enemyShip.png");
      laserImg = await loadTexture("assets/laserRed.png");
    
      initGame();
      let gameLoopId = setInterval(() => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "black";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        drawGameObjects(ctx);
      }, 100)
      
    };
    ```

5. ä¸€å®šé–“éš”ã§æ•µã‚’ç§»å‹•ã•ã›ã‚‹**ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™**

    é–¢æ•° `createEnemies()` ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã¦æ•µã‚’ä½œæˆã—ã€ãã‚Œã‚’æ–°ã—ã„ gameObjects ã‚¯ãƒ©ã‚¹ã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã¾ã™ã€‚

    ```javascript
    function createEnemies() {
      const MONSTER_TOTAL = 5;
      const MONSTER_WIDTH = MONSTER_TOTAL * 98;
      const START_X = (canvas.width - MONSTER_WIDTH) / 2;
      const STOP_X = START_X + MONSTER_WIDTH;
    
      for (let x = START_X; x < STOP_X; x += 98) {
        for (let y = 0; y < 50 * 5; y += 50) {
          const enemy = new Enemy(x, y);
          enemy.img = enemyImg;
          gameObjects.push(enemy);
        }
      }
    }
    ```
    
    ãã—ã¦ `createHero()` é–¢æ•°ã‚’è¿½åŠ ã—ã¦ hero ã«ã‚‚åŒæ§˜ã®å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚
    
    ```javascript
    function createHero() {
      hero = new Hero(
        canvas.width / 2 - 45,
        canvas.height - canvas.height / 4
      );
      hero.img = heroImg;
      gameObjects.push(hero);
    }
    ```

    æœ€å¾Œã« `drawGameObjects()` é–¢æ•°ã‚’è¿½åŠ ã—ã¦æç”»ã‚’é–‹å§‹ã—ã¾ã™ã€‚

    ```javascript
    function drawGameObjects(ctx) {
      gameObjects.forEach(go => go.draw(ctx));
    }
    ```

    ã‚ãªãŸã®æ•µã¯ã‚ãªãŸã®ãƒ’ãƒ¼ãƒ­ãƒ¼ã®å®‡å®™èˆ¹ã§å‰é€²ã‚’é–‹å§‹ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™!

---

## ğŸš€ ãƒãƒ£ãƒ¬ãƒ³ã‚¸

ã”è¦§ã®ã‚ˆã†ã«ã€é–¢æ•°ã‚„å¤‰æ•°ã€ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã—å§‹ã‚ã‚‹ã¨ã€ã‚ãªãŸã®ã‚³ãƒ¼ãƒ‰ã¯ã€Œã‚¹ãƒ‘ã‚²ãƒƒãƒ†ã‚£ã‚³ãƒ¼ãƒ‰ã€ã«ãªã£ã¦ã—ã¾ã†ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã‚³ãƒ¼ãƒ‰ã‚’ã‚ˆã‚Šèª­ã¿ã‚„ã™ãæ•´ç†ã™ã‚‹ã«ã¯ã©ã†ã—ãŸã‚‰ã„ã„ã§ã—ã‚‡ã†ã‹? 1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«å­˜åœ¨ã—ã¦ã„ã¦ã‚‚ã€ã‚ãªãŸã®ã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ã™ã‚‹ãŸã‚ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’ã‚¹ã‚±ãƒƒãƒã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

## ãƒ¬ãƒƒã‚¹ãƒ³å¾Œã®å°ãƒ†ã‚¹ãƒˆ

[ãƒ¬ãƒƒã‚¹ãƒ³å¾Œã®å°ãƒ†ã‚¹ãƒˆ](https://ashy-river-0debb7803.1.azurestaticapps.net/quiz/34?loc=ja)

## å¾©ç¿’ã¨è‡ªå·±å­¦ç¿’

ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã‚ãšã«ã‚²ãƒ¼ãƒ ã‚’æ›¸ã„ã¦ã„ã‚‹ã†ã¡ã«ã€JavaScript ã‚’ä½¿ã£ãŸã‚²ãƒ¼ãƒ é–‹ç™ºç”¨ã® canvas ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒãŸãã•ã‚“å‡ºã¦ãã¾ã—ãŸã€‚æ™‚é–“ã‚’ã‹ã‘ã¦[ã“ã‚Œã‚‰ã«ã¤ã„ã¦èª­ã‚€](https://github.com/collections/javascript-game-engines)ã€‚

## èª²é¡Œ

[ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã™ã‚‹](assignment.ja.md)


export default ({ children }) => <div className="docs-content">{children}</div>;