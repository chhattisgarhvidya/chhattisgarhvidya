---
title: ã‚¹ãƒšãƒ¼ã‚¹ã‚²ãƒ¼ãƒ æ§‹ç¯‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãã® 5: ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã¨ãƒ©ã‚¤ãƒ•
description: No description available
lastUpdated: 2024-12-21T06:11:55.182Z
---

# ã‚¹ãƒšãƒ¼ã‚¹ã‚²ãƒ¼ãƒ æ§‹ç¯‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãã® 5: ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã¨ãƒ©ã‚¤ãƒ•

## ãƒ¬ãƒƒã‚¹ãƒ³å‰ã®å°ãƒ†ã‚¹ãƒˆ

[ãƒ¬ãƒƒã‚¹ãƒ³å‰ã®å°ãƒ†ã‚¹ãƒˆ](https://ashy-river-0debb7803.1.azurestaticapps.net/quiz/37?loc=ja)

ã“ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã¯ã€ã‚²ãƒ¼ãƒ ã«å¾—ç‚¹ã‚’åŠ ãˆã¦ãƒ©ã‚¤ãƒ•ã‚’è¨ˆç®—ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚

## ç”»é¢ä¸Šã«ãƒ†ã‚­ã‚¹ãƒˆã‚’æç”»

ã‚²ãƒ¼ãƒ ã®ã‚¹ã‚³ã‚¢ã‚’ç”»é¢ã«è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã«ã¯ã€ç”»é¢ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’é…ç½®ã™ã‚‹æ–¹æ³•ã‚’çŸ¥ã£ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã®ç­”ãˆã¯ã€canvas ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã® `fillText()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚ã¾ãŸã€ä½¿ç”¨ã™ã‚‹ãƒ•ã‚©ãƒ³ãƒˆã€ãƒ†ã‚­ã‚¹ãƒˆã®è‰²ã€é…ç½® (å·¦ã€å³ã€ä¸­å¤®) ãªã©ã®ä»–ã®è¦ç´ ã‚’åˆ¶å¾¡ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ä»¥ä¸‹ã¯ã€ç”»é¢ä¸Šã«ãƒ†ã‚­ã‚¹ãƒˆã‚’æç”»ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚

```javascript
ctx.font = "30px Arial";
ctx.fillStyle = "red";
ctx.textAlign = "right";
ctx.fillText("show this on the screen", 0, 0);
```

âœ… [canvas ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•](https://developer.mozilla.org/ja/docs/Drawing_text_using_a_canvas)ã«ã¤ã„ã¦è©³ã—ãã¯ã“ã¡ã‚‰ã‚’ã”è¦§ãã ã•ã„ã€‚ãã†ã™ã‚Œã°è‡ªç”±ã«ãƒ•ã‚¡ãƒ³ã‚·ãƒ¼ãªå¤–è¦³ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚


## ã‚²ãƒ¼ãƒ ã®æ¦‚å¿µã¨ã—ã¦ã®ãƒ©ã‚¤ãƒ•

ã‚²ãƒ¼ãƒ ã«ãŠã‘ã‚‹ãƒ©ã‚¤ãƒ•ã®æ¦‚å¿µã¯æ•°å­—ã§ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚¹ãƒšãƒ¼ã‚¹ã‚²ãƒ¼ãƒ ã®æ–‡è„ˆã§ã¯ã€è‡ªåˆ†ã®å®‡å®™èˆ¹ãŒãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’å—ã‘ãŸã¨ãã«ä¸€ã¤ãšã¤å·®ã—å¼•ã‹ã‚Œã‚‹ãƒ©ã‚¤ãƒ•ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã®ãŒä¸€èˆ¬çš„ã§ã™ã€‚ã“ã‚Œã‚’æ•°å­—ã§ã¯ãªãã€ãƒŸãƒ‹ã‚·ãƒƒãƒ—ã‚„ãƒãƒ¼ãƒˆã®ã‚ˆã†ã«ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ã«è¡¨ç¾ã§ãã‚‹ã¨ã„ã„ã§ã™ã­ã€‚

## ä½•ã‚’æ§‹ç¯‰ã™ã‚‹ã‹

ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ã‚’ã‚²ãƒ¼ãƒ ã«è¿½åŠ ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

- **ã‚²ãƒ¼ãƒ ã®ã‚¹ã‚³ã‚¢**: æ•µè‰¦ãŒç ´å£Šã•ã‚Œã‚‹ã”ã¨ã«ã€ãƒ’ãƒ¼ãƒ­ãƒ¼ã«ã¯ã„ãã¤ã‹ã®ãƒã‚¤ãƒ³ãƒˆãŒä¸ãˆã‚‰ã‚Œã‚‹ã¯ãšã§ã™ãŒã€ç§ãŸã¡ã¯1éš»ã«ã¤ã100ãƒã‚¤ãƒ³ãƒˆã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ã‚²ãƒ¼ãƒ ã‚¹ã‚³ã‚¢ã¯å·¦ä¸‹ã«è¡¨ç¤ºã•ã‚Œã¾ã™
- **ãƒ©ã‚¤ãƒ•**: ã‚ãªãŸã®å®‡å®™èˆ¹ã«ã¯3ã¤ã®ãƒ©ã‚¤ãƒ•ãŒã‚ã‚Šã¾ã™ã€‚æ•µã®èˆ¹ãŒè¡çªã™ã‚‹ãŸã³ã«ãƒ©ã‚¤ãƒ•ã‚’å¤±ã„ã¾ã™ã€‚ãƒ©ã‚¤ãƒ•ã‚¹ã‚³ã‚¢ã¯å³ä¸‹ã«è¡¨ç¤ºã•ã‚Œã€æ¬¡ã®ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã§ä½œæˆã•ã‚Œã¾ã™ã€‚![life image](../solution/assets/life.png)

## æ¨å¥¨ã•ã‚Œã‚‹æ‰‹é †

ã‚ãªãŸã®ãŸã‚ã«ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ `your-work` ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€å†…ã§æ¢ã—ã¾ã™ã€‚ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ã€‚

```bash
-| assets
  -| enemyShip.png
  -| player.png
  -| laserRed.png
-| index.html
-| app.js
-| package.json
```

æ¬¡ã®ã‚ˆã†ã«å…¥åŠ›ã—ã¦ã€`your_work` ãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã—ã¾ã™ã€‚

```bash
cd your-work
npm start
```

ä¸Šè¨˜ã®ã‚ˆã†ã«ã™ã‚‹ã¨ã€`http://localhost:5000` ã¨ã„ã†ã‚¢ãƒ‰ãƒ¬ã‚¹ã« HTTP ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‹ã„ã¦ãã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€ãƒ’ãƒ¼ãƒ­ãƒ¼ã¨æ•µãŒè¡¨ç¤ºã•ã‚Œã€å·¦å³ã®çŸ¢å°ã‚’æ‰“ã¤ã¨ãƒ’ãƒ¼ãƒ­ãƒ¼ãŒå‹•ãã€æ•µã‚’æ’ƒã¡è½ã¨ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

### ã‚³ãƒ¼ãƒ‰ã®è¿½åŠ 

1. `solution/assets/` ãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰ `your-work` ãƒ•ã‚©ãƒ«ãƒ€ã«**å¿…è¦ãªã‚¢ã‚»ãƒƒãƒˆã‚’ã‚³ãƒ”ãƒ¼**ã—ã¦ã€`life.png` ã‚¢ã‚»ãƒƒãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚lifeImg ã‚’ window.onload é–¢æ•°ã«è¿½åŠ ã—ã¾ã™

    ```javascript
    lifeImg = await loadTexture("assets/life.png");
    ```

1. ã‚¢ã‚»ãƒƒãƒˆã®ãƒªã‚¹ãƒˆã« `lifeImg` ã‚’è¿½åŠ ã—ã¾ã™

    ```javascript
    let heroImg,
    ...
    lifeImg,
    ...
    eventEmitter = new EventEmitter();
    ```
  
2. **å¤‰æ•°ã‚’è¿½åŠ ã—ã¾ã™**ã€‚ã‚ãªãŸã®åˆè¨ˆã‚¹ã‚³ã‚¢ (0) ã¨ãã®å·¦ã« (3) ã®ãƒ©ã‚¤ãƒ•ã‚’è¡¨ã™ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã€ç”»é¢ä¸Šã«ã“ã‚Œã‚‰ã®ã‚¹ã‚³ã‚¢ã‚’è¡¨ç¤ºã—ã¾ã™

3. **`updateGameObjects()` é–¢æ•°ã‚’æ‹¡å¼µã—ã¾ã™**ã€‚`updateGameObjects()` é–¢æ•°ã‚’æ‹¡å¼µã—ã€æ•µã®è¡çªã«å¯¾å¿œã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™

    ```javascript
    enemies.forEach(enemy => {
        const heroRect = hero.rectFromGameObject();
        if (intersectRect(heroRect, enemy.rectFromGameObject())) {
          eventEmitter.emit(Messages.COLLISION_ENEMY_HERO, { enemy });
        }
      })
    ```

4. **`life` ã¨ `points` ã‚’è¿½åŠ ã—ã¾ã™**
   1. **å¤‰æ•°ã‚’åˆæœŸåŒ–ã—ã¾ã™**ã€‚`Hero` ã‚¯ãƒ©ã‚¹ã® `this.cooldown = 0` ã®ä¸‹ã§ã€ãƒ©ã‚¤ãƒ•ã¨ãƒã‚¤ãƒ³ãƒˆã‚’è¨­å®šã—ã¾ã™

        ```javascript
        this.life = 3;
        this.points = 0;
        ```

   1. **ç”»é¢ä¸Šã«å¤‰æ•°ã‚’æç”»ã—ã¾ã™**ã€‚ã“ã‚Œã‚‰ã®å€¤ã‚’ç”»é¢ã«æç”»ã—ã¾ã™

        ```javascript
        function drawLife() {
          // TODO, 35, 27
          const START_POS = canvas.width - 180;
          for(let i=0; i < hero.life; i++ ) {
            ctx.drawImage(
              lifeImg, 
              START_POS + (45 * (i+1) ), 
              canvas.height - 37);
          }
        }
        
        function drawPoints() {
          ctx.font = "30px Arial";
          ctx.fillStyle = "red";
          ctx.textAlign = "left";
          drawText("Points: " + hero.points, 10, canvas.height-20);
        }
        
        function drawText(message, x, y) {
          ctx.fillText(message, x, y);
        }

        ```

   1. **Game ãƒ«ãƒ¼ãƒ—ã«ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã¾ã™**ã€‚`updateGameObjects()` ã®ä¸‹ã® window.onload é–¢æ•°ã«ã“ã‚Œã‚‰ã®é–¢æ•°ã‚’è¿½åŠ ã—ã¾ã™

        ```javascript
        drawPoints();
        drawLife();
        ```

1. **ã‚²ãƒ¼ãƒ ã®ãƒ«ãƒ¼ãƒ«ã‚’å®Ÿè£…ã—ã¾ã™**ã€‚ä»¥ä¸‹ã®ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ«ã‚’å®Ÿè£…ã—ã¾ã™

   1. **ãƒ’ãƒ¼ãƒ­ãƒ¼ã¨æ•µã®è¡çªã”ã¨ã«**ã€ãƒ©ã‚¤ãƒ•ã‚’å·®ã—å¼•ãã¾ã™
   
      `Hero` ã‚¯ãƒ©ã‚¹ã‚’æ‹¡å¼µã—ã¦ã“ã®å·®ã—å¼•ãã‚’è¡Œã„ã¾ã™

        ```javascript
        decrementLife() {
          this.life--;
          if (this.life === 0) {
            this.dead = true;
          }
        }
        ```

   2. **ãƒ¬ãƒ¼ã‚¶ãƒ¼ãŒæ•µã«å½“ãŸã‚‹ãŸã³ã«**ã€ã‚²ãƒ¼ãƒ ã‚¹ã‚³ã‚¢ã‚’100ç‚¹ã‚¢ãƒƒãƒ—ã•ã›ã¾ã™

      ã“ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã‚’è¡Œã†ãŸã‚ã« Hero ã‚¯ãƒ©ã‚¹ã‚’æ‹¡å¼µã—ã¾ã™
    
        ```javascript
          incrementPoints() {
            this.points += 100;
          }
        ```

        ã“ã‚Œã‚‰ã®æ©Ÿèƒ½ã‚’è¡çªã‚¤ãƒ™ãƒ³ãƒˆã‚¨ãƒŸãƒƒã‚¿ã«è¿½åŠ ã—ã¾ã™

        ```javascript
        eventEmitter.on(Messages.COLLISION_ENEMY_LASER, (_, { first, second }) => {
           first.dead = true;
           second.dead = true;
           hero.incrementPoints();
        })

        eventEmitter.on(Messages.COLLISION_ENEMY_HERO, (_, { enemy }) => {
           enemy.dead = true;
           hero.decrementLife();
        });
        ```

âœ… JavaScript/Canvas ã‚’ä½¿ç”¨ã—ã¦ä½œæˆã•ã‚ŒãŸä»–ã®ã‚²ãƒ¼ãƒ ã‚’å°‘ã—èª¿ã¹ã¦ã¿ã¦ãã ã•ã„ã€‚ã“ã‚Œã‚‰ã®ã‚²ãƒ¼ãƒ ã«å…±é€šã™ã‚‹ç‰¹å¾´ã¯ä½•ã§ã™ã‹?

ã“ã®ä½œå“ãŒçµ‚ã‚ã‚‹é ƒã«ã¯ã€å³ä¸‹ã«å°ã•ãªã€Œãƒ©ã‚¤ãƒ•ã€ã®èˆ¹ã€å·¦ä¸‹ã«ãƒã‚¤ãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã€æ•µã¨è¡çªã™ã‚‹ã¨ãƒ©ã‚¤ãƒ•ã‚«ã‚¦ãƒ³ãƒˆãŒæ¸›å°‘ã—ã€æ•µã‚’æ’ƒã¤ã¨ãƒã‚¤ãƒ³ãƒˆãŒå¢—åŠ ã™ã‚‹ã®ãŒã‚ã‹ã‚‹ã¯ãšã§ã™ã€‚ã‚ˆãã§ãã¾ã—ãŸ! ã“ã‚Œã§ã‚²ãƒ¼ãƒ ã¯ã»ã¼å®Œæˆã§ã™ã€‚

---

## ğŸš€ ãƒãƒ£ãƒ¬ãƒ³ã‚¸

ã‚ãªãŸã®ã‚³ãƒ¼ãƒ‰ã¯ã»ã¼å®Œæˆã—ã¦ã„ã¾ã™ã€‚æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ãã¾ã™ã‹ï¼Ÿ

## ãƒ¬ãƒƒã‚¹ãƒ³å¾Œã®å°ãƒ†ã‚¹ãƒˆ

[ãƒ¬ãƒƒã‚¹ãƒ³å¾Œã®å°ãƒ†ã‚¹ãƒˆ](https://ashy-river-0debb7803.1.azurestaticapps.net/quiz/38?loc=ja)

## å¾©ç¿’ã¨è‡ªå·±å­¦ç¿’

ã‚²ãƒ¼ãƒ ã®ã‚¹ã‚³ã‚¢ã‚„ãƒ©ã‚¤ãƒ•ã‚’å¢—æ¸›ã•ã›ã‚‹æ–¹æ³•ã‚’ã„ãã¤ã‹ç ”ç©¶ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚[PlayFab](https://playfab.com) ã®ã‚ˆã†ãªé¢ç™½ã„ã‚²ãƒ¼ãƒ ã‚¨ãƒ³ã‚¸ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã©ã®ã‚ˆã†ã«ã‚²ãƒ¼ãƒ ã‚’å¼·åŒ–ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ

## èª²é¡Œ

[ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã‚²ãƒ¼ãƒ ã®æ§‹ç¯‰](assignment.ja.md)


export default ({ children }) => <div className="docs-content">{children}</div>;